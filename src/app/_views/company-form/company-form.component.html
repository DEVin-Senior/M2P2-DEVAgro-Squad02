<div class="company-form-hero principal-bg">
  <div class="container-company-form">
    <form class="company-form row g-3 needs-validation" (ngSubmit)="submit()" [formGroup]="companyForm"
      #formDir="ngForm" [ngClass]="{'was-validated' : companyForm.invalid && formDir.submitted && !registerSended}">

      <div class="header-company-form">
        <div class="logo-dih-forms"></div>
        <h1 class="mb-3 fw-normal">Dev-Agro</h1>
        <h4 class="mb-3 fw-normal">Cadastro de empresa</h4>
      </div>

      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="floatingInputName" placeholder="Nome" formControlName="name"
          required>
        <label for="floatingInputName">Nome</label>

        <div *ngIf="name.invalid && formDir.submitted; else validForm" class="invalid-tooltip">
          <small *ngIf="name.errors?.['required']">O nome da empresa é obrigatório. </small>
        </div>

        <ng-template #validForm>
          <small class="valid-tooltip">OK</small>
        </ng-template>
      </div>

      <div class="form-floating mb-3">
        <input type="text" class="form-control cnpj-mask" id="floatingInputCnpj" placeholder="Cnpj" formControlName="cnpj" required>
        <label for="floatingInputCnpj">CNPJ</label>

        <div *ngIf="cnpj.invalid && formDir.submitted; else validForm" class="invalid-tooltip">
          <small *ngIf="cnpj.errors?.['required']">O nome da cnpj é obrigatório. </small>
          <small *ngIf="cnpj.errors?.['pattern']">O CNPJ precisa corresponder a um formato válido. </small>
        </div>

        <ng-template #validForm>
          <small class="valid-tooltip">OK</small>
        </ng-template>
      </div>

      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="floatingInputAddress" placeholder="Endereço da sede"
          formControlName="address" required>
        <label for="floatingInputAddress">Endereço da sede</label>

        <div *ngIf="address.invalid && formDir.submitted; else validForm" class="invalid-tooltip">
          <small *ngIf="address.errors?.['required']">O endereço é obrigatório. </small>
        </div>

        <ng-template #validForm>
          <small class="valid-tooltip">OK</small>
        </ng-template>
      </div>

      <div class="form-floating mb-3">
        <input type="email" class="form-control" id="floatingInputEmail" placeholder="E-mail" formControlName="email"
          required>
        <label for="floatingInputEmail">E-mail</label>

        <div *ngIf="email.invalid && formDir.submitted; else validForm" class="invalid-tooltip">
          <small *ngIf="email.errors?.['required']">O e-mail é obrigatório. </small>
          <small *ngIf="email.errors?.['email']">O e-mail informado é inválido. </small>
        </div>

        <ng-template #validForm>
          <small class="valid-tooltip">OK</small>
        </ng-template>
      </div>

      <div class="form-floating mb-3">
        <input type="password" class="form-control" id="floatingInputPassword" placeholder="Senha"
          formControlName="password" (change)="{pattern : regexPassword}" required>
        <label for="floatingInputPassword">Senha</label>

        <div *ngIf="password.invalid && formDir.submitted; else validForm" class="invalid-tooltip">
          <small *ngIf="password.errors?.['required']">A senha é obrigatória. </small>
          <small *ngIf="password.errors?.['pattern']">O formato da senha precisa corresponder aos critérios requeridos. </small>
          <small *ngIf="password.errors?.['matchPassword']">As senhas informadas são diferentes. </small>
        </div>

        <ng-template #validForm>
          <small class="valid-tooltip">OK</small>
        </ng-template>
      </div>

      <div class="form-floating mb-3">
        <input type="password" class="form-control" id="floatingInputConfirmPassword"
          placeholder="Digite novamente a senha" formControlName="confirmPassword" required>
        <label for="floatingInputConfirmPassword">Informe novamente a senha</label>

        <div *ngIf="confirmPassword.invalid && formDir.submitted; else validForm" class="invalid-tooltip">
          <small *ngIf="confirmPassword.errors?.['required']">A confirmação da senha é obrigatória. </small>
          <small *ngIf="confirmPassword.errors?.['pattern']">O formato da senha precisa corresponder aos critérios requeridos. </small>
          <small *ngIf="confirmPassword.errors?.['matchPassword']">As senhas informadas são diferentes. </small>
        </div>

        <ng-template #validForm>
          <small class="valid-tooltip">OK</small>
        </ng-template>
      </div>

      <div class="col-12 container-btn">
        <app-button [text]="registerBtn"></app-button>
      </div>
    </form>
  </div>
</div>
